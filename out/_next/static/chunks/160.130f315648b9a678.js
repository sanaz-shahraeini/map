"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{5160:function(e,o,t){t.r(o),t.d(o,{default:function(){return y}});var n=t(7437),r=t(2265),a=t(16),i=t(4439),c=t(9628),l=t(9890),d=t(172),s=t(2293),p=t(9658),u=t(9143),h=t(4149),m=t(7159),x=t(1096),g=t(824),f=t(385),b=t(8784),v=t(6548);function y(e){let{mapZoom:o,setMapZoom:t,selectedProduct:y,setShowInfoCard:C}=e,[j,w]=(0,r.useState)("list"),[Z,k]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),S=(0,m.Z)("(max-width: 768px)",{defaultMatches:!1,noSsr:!0});(0,r.useEffect)(()=>{k(!0)},[]);let E=async e=>Z?"undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):new Promise((o,t)=>{try{let n=document.createElement("textarea");n.value=e,n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();let r=document.execCommand("copy");document.body.removeChild(n),r?o():t(Error("execCommand copy failed"))}catch(e){t(e)}}):Promise.reject(Error("Not running in client environment")),U=async()=>{if(!Z)return;if(!y){alert("No product selected for sharing.");return}let e=y.product_name||y.name||"",o="Hello,\n\nI am sharing the information of the product I viewed:\n\n"+"Product Name: ".concat(e,"\n")+"Description: ".concat(y.description||"","\n")+"Image Link: ".concat(y.image_url||"","\n\n")+"Best regards",t="".concat("Product Information: ".concat(e),"\n\n").concat(o);try{if("undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(t),alert("Product information copied to clipboard!"),P(!1);else if(Z){let e=document.createElement("textarea");e.value=t,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();let o=document.execCommand("copy");document.body.removeChild(e),o?(alert("Product information copied to clipboard!"),P(!1)):alert("Unable to copy to clipboard. Please try again.")}}catch(e){console.error("Failed to copy text: ",e),alert("Unable to copy to clipboard. Please try again.")}},R=[{value:"add",icon:(0,n.jsx)(a.Z,{}),action:()=>{t(e=>e-1)}},{value:"remove",icon:(0,n.jsx)(i.Z,{}),action:()=>{t(e=>e+1)}},{value:"share",icon:(0,n.jsx)(c.Z,{}),action:()=>P(!0)},{value:"info",icon:(0,n.jsx)(s.Z,{}),action:()=>C(!0)},{value:"settings",icon:(0,n.jsx)(l.Z,{})},{value:"help",icon:(0,n.jsx)(d.Z,{})}];return Z?(0,n.jsxs)("div",{children:[(0,n.jsx)(h.Z,{orientation:"vertical",value:j,exclusive:!0,onChange:(e,o)=>{w(o)},sx:{position:"fixed",bottom:"20px",right:"35px",zIndex:1e3,borderRadius:"20px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",padding:"8px 4px",transition:"all 0.3s ease","&:hover":{boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)"},"& .MuiToggleButton-root":{border:"none",padding:"10px",margin:"4px 0",borderRadius:"50%",transition:"all 0.2s ease",...S&&{padding:"6px",margin:"2px 0"},"&:hover":{backgroundColor:"#E0F2F1",transform:"scale(1.1)"}},...S&&{bottom:"15px",right:"15px",borderRadius:"15px",padding:"6px 3px"}},children:R.map(e=>{let{value:o,icon:t,action:a}=e;return(0,n.jsx)(u.Z,{value:o,"aria-label":o,onClick:a,sx:{...S?{padding:"4px"}:{},"&:hover":{backgroundColor:"#E0F2F1"},"&.Mui-selected":{backgroundColor:"#B2DFDB","&:hover":{backgroundColor:"#80CBC4"}}},children:r.cloneElement(t,{sx:{color:"#00897B",...S&&{fontSize:"small"},transition:"all 0.2s ease"}})},o)})}),(0,n.jsxs)(x.Z,{open:I,onClose:()=>P(!1),"aria-labelledby":"share-dialog-title","aria-describedby":"share-dialog-description",maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"share-dialog-title",children:"Share Product"}),(0,n.jsx)(f.Z,{dividers:!0,children:y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Share:"})," ",y.product_name||y.name||""]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"20px"},children:[(0,n.jsx)(v.Z,{variant:"contained",startIcon:(0,n.jsx)(c.Z,{}),color:"primary",onClick:()=>{if(Z){if(y){let e=y.product_name||y.name||"",o="Product Information: ".concat(e),t="Hello,\n\nI am sharing the information of the product I viewed:\n\n"+"Product Name: ".concat(e,"\n")+"Description: ".concat(y.description||"","\n")+"Image Link: ".concat(y.image_url||"","\n\n")+"Best regards";"".concat(o,"\n\n").concat(t),Z&&"undefined"!=typeof navigator&&navigator.share?navigator.share({title:o,text:t,url:window.location.href}).then(()=>{console.log("Successfully shared"),P(!1)}).catch(e=>{console.log("Error sharing:",e)}):alert("Web Share API not supported in your browser. Please use other share options.")}else alert("No product selected for sharing."),P(!1)}},fullWidth:!0,style:{marginBottom:"16px",height:"48px"},children:"Use Device Sharing"}),(0,n.jsx)(v.Z,{variant:"contained",startIcon:(0,n.jsx)(p.Z,{}),color:"secondary",onClick:U,fullWidth:!0,style:{marginBottom:"16px",height:"48px"},children:"Copy to Clipboard"}),(0,n.jsx)(v.Z,{variant:"outlined",startIcon:(0,n.jsx)(s.Z,{}),color:"primary",onClick:()=>{if(!Z)return;if(!y){alert("No product selected for sharing.");return}let e=y.product_name||y.name||"",o="Hello,\n\nI am sharing the information of the product I viewed:\n\n"+"Product Name: ".concat(e,"\n")+"Description: ".concat(y.description||"","\n")+"Image Link: ".concat(y.image_url||"","\n\n")+"Best regards";window.location.href="mailto:?subject=".concat(encodeURIComponent("Product Information: ".concat(e)),"&body=").concat(encodeURIComponent(o)),P(!1)},fullWidth:!0,style:{height:"48px"},children:"Share via Email"}),(0,n.jsx)(v.Z,{variant:"outlined",color:"primary",onClick:()=>{if(Z&&y)try{let e=new URL(window.location.href),o=y.product_name||y.name||"";e.searchParams.set("product",o),E(e.toString()).then(()=>{alert("Product URL copied to clipboard!"),P(!1)}).catch(e=>{console.error("Failed to copy URL: ",e),alert("Unable to copy URL. Please try again.")})}catch(e){console.error("Error generating URL:",e),alert("Failed to generate shareable URL.")}},fullWidth:!0,style:{height:"48px"},children:"Copy Product URL"})]})]}):(0,n.jsx)("p",{children:"No product selected for sharing."})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(v.Z,{onClick:()=>P(!1),color:"primary",children:"Cancel"})})]})]}):null}}}]);