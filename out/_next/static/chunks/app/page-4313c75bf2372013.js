(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{706:function(n,e,t){Promise.resolve().then(t.bind(t,6785))},1908:function(n,e){"use strict";e.Z={Europe:{lat:54.526,lng:15.2551,country:"Europe"},GLO:{lat:0,lng:0,country:"Global"},WEU:{lat:50.8503,lng:4.3517,country:"Western Europe (Representative - Belgium)"},EU27:{lat:49.6117,lng:6.1319,country:"European Union (EU-27 - Representative - Luxembourg)"},UK:{lat:52.408056,lng:-1.510556,country:"United Kingdom"},EU25:{lat:50.8503,lng:4.3517,country:"European Union (EU-25 - Representative - Belgium)"},RER:{lat:48.8566,lng:2.3522,country:"France (RER Regional Reference)"},RNA:{lat:37.7749,lng:-122.4194,country:"RNA Region"},AL:{lat:41,lng:20,country:"Albania"},DZ:{lat:28,lng:3,country:"Algeria"},AS:{lat:-14.3333,lng:-170,country:"American Samoa"},AD:{lat:42.5,lng:1.6,country:"Andorra"},AO:{lat:-12.5,lng:18.5,country:"Angola"},AI:{lat:18.25,lng:-63.1667,country:"Anguilla"},AQ:{lat:-90,lng:0,country:"Antarctica"},AG:{lat:17.05,lng:-61.8,country:"Antigua and Barbuda"},AR:{lat:-34,lng:-64,country:"Argentina"},AM:{lat:40,lng:45,country:"Armenia"},AW:{lat:12.5,lng:-69.9667,country:"Aruba"},AU:{lat:-27,lng:133,country:"Australia"},AT:{lat:47.3333,lng:13.3333,country:"Austria"},AZ:{lat:40.5,lng:47.5,country:"Azerbaijan"},BS:{lat:24.25,lng:-76,country:"Bahamas"},BH:{lat:26,lng:50.55,country:"Bahrain"},BD:{lat:24,lng:90,country:"Bangladesh"},BB:{lat:13.1667,lng:-59.5333,country:"Barbados"},BY:{lat:53,lng:28,country:"Belarus"},BE:{lat:50.8333,lng:4,country:"Belgium"},BZ:{lat:17.25,lng:-88.75,country:"Belize"},BJ:{lat:9.5,lng:2.25,country:"Benin"},BM:{lat:32.3333,lng:-64.75,country:"Bermuda"},BT:{lat:27.5,lng:90.5,country:"Bhutan"},BO:{lat:-17,lng:-65,country:"Bolivia, Plurinational State of"},BA:{lat:44,lng:18,country:"Bosnia and Herzegovina"},BW:{lat:-22,lng:24,country:"Botswana"},BV:{lat:-54.4333,lng:3.4,country:"Bouvet Island"},BR:{lat:-10,lng:-55,country:"Brazil"},IO:{lat:-6,lng:71.5,country:"British Indian Ocean Territory"},BN:{lat:4.5,lng:114.6667,country:"Brunei Darussalam"},BG:{lat:43,lng:25,country:"Bulgaria"},BF:{lat:13,lng:-2,country:"Burkina Faso"},BI:{lat:-3.5,lng:30,country:"Burundi"},KH:{lat:13,lng:105,country:"Cambodia"},CM:{lat:6,lng:12,country:"Cameroon"},CA:{lat:60,lng:-95,country:"Canada"},CV:{lat:16,lng:-24,country:"Cape Verde"},KY:{lat:19.5,lng:-80.5,country:"Cayman Islands"},CF:{lat:7,lng:21,country:"Central African Republic"},TD:{lat:15,lng:19,country:"Chad"},CL:{lat:-30,lng:-71,country:"Chile"},CN:{lat:35,lng:105,country:"China"},CX:{lat:-10.5,lng:105.6667,country:"Christmas Island"},CC:{lat:-12.5,lng:96.8333,country:"Cocos (Keeling) Islands"},CO:{lat:4,lng:-72,country:"Colombia"},KM:{lat:-12.1667,lng:44.25,country:"Comoros"},CG:{lat:-1,lng:15,country:"Congo"},CD:{lat:0,lng:25,country:"Congo, the Democratic Republic of the"},CK:{lat:-21.2333,lng:-159.7667,country:"Cook Islands"},CR:{lat:10,lng:-84,country:"Costa Rica"},CI:{lat:8,lng:-5,country:"C\xf4te d'Ivoire"},HR:{lat:45.1667,lng:15.5,country:"Croatia"},CU:{lat:21.5,lng:-80,country:"Cuba"},CY:{lat:35,lng:33,country:"Cyprus"},CZ:{lat:49.75,lng:15.5,country:"Czech Republic"},DK:{lat:56,lng:10,country:"Denmark"},DJ:{lat:11.5,lng:43,country:"Djibouti"},DM:{lat:15.4167,lng:-61.3333,country:"Dominica"},DO:{lat:19,lng:-70.6667,country:"Dominican Republic"},EC:{lat:-2,lng:-77.5,country:"Ecuador"},EG:{lat:27,lng:30,country:"Egypt"},SV:{lat:13.8333,lng:-88.9167,country:"El Salvador"},GQ:{lat:2,lng:10,country:"Equatorial Guinea"},ER:{lat:15,lng:39,country:"Eritrea"},EE:{lat:59,lng:26,country:"Estonia"},ET:{lat:8,lng:38,country:"Ethiopia"},FK:{lat:-51.75,lng:-59,country:"Falkland Islands (Malvinas)"},FO:{lat:62,lng:-7,country:"Faroe Islands"},FJ:{lat:-18,lng:175,country:"Fiji"},FI:{lat:64,lng:26,country:"Finland"},FR:{lat:46,lng:2,country:"France"},GF:{lat:4,lng:-53,country:"French Guiana"},PF:{lat:-15,lng:-140,country:"French Polynesia"},TF:{lat:-43,lng:67,country:"French Southern Territories"},GA:{lat:-1,lng:11.75,country:"Gabon"},GM:{lat:13.4667,lng:-16.5667,country:"Gambia"},GE:{lat:42,lng:43.5,country:"Georgia"},DE:{lat:51,lng:9,country:"Germany"},de:{lat:52.52,lng:13.405,country:"Germany (Representative - Berlin)"},GH:{lat:8,lng:-2,country:"Ghana"},GI:{lat:36.1833,lng:-5.3667,country:"Gibraltar"},GR:{lat:39,lng:22,country:"Greece"},GL:{lat:72,lng:-40,country:"Greenland"},GD:{lat:12.1167,lng:-61.6667,country:"Grenada"},GP:{lat:16.25,lng:-61.5833,country:"Guadeloupe"},GU:{lat:13.4667,lng:144.7833,country:"Guam"},GT:{lat:15.5,lng:-90.25,country:"Guatemala"},GG:{lat:49.5,lng:-2.56,country:"Guernsey"},GN:{lat:11,lng:-10,country:"Guinea"},GW:{lat:12,lng:-15,country:"Guinea-Bissau"},GY:{lat:5,lng:-59,country:"Guyana"},HT:{lat:19,lng:-72.4167,country:"Haiti"},HM:{lat:-53.1,lng:72.5167,country:"Heard Island and McDonald Islands"},VA:{lat:41.9,lng:12.45,country:"Holy See (Vatican City State)"},HN:{lat:15,lng:-86.5,country:"Honduras"},HK:{lat:22.25,lng:114.1667,country:"Hong Kong"},HU:{lat:47,lng:20,country:"Hungary"},IS:{lat:65,lng:-18,country:"Iceland"},IN:{lat:20,lng:77,country:"India"},ID:{lat:-5,lng:120,country:"Indonesia"},IR:{lat:32,lng:53,country:"Iran, Islamic Republic of"},IQ:{lat:33,lng:44,country:"Iraq"},IE:{lat:53,lng:-8,country:"Ireland"},IM:{lat:54.23,lng:-4.55,country:"Isle of Man"},IL:{lat:31.5,lng:34.75,country:"Israel"},IT:{lat:42.8333,lng:12.8333,country:"Italy"},JM:{lat:18.25,lng:-77.5,country:"Jamaica"},JP:{lat:36,lng:138,country:"Japan"},JE:{lat:49.21,lng:-2.13,country:"Jersey"},JO:{lat:31,lng:36,country:"Jordan"},KZ:{lat:48,lng:68,country:"Kazakhstan"},KE:{lat:1,lng:38,country:"Kenya"},KI:{lat:1.4167,lng:173,country:"Kiribati"},KP:{lat:40,lng:127,country:"Korea, Democratic People's Republic of"},KR:{lat:37,lng:127.5,country:"Korea, Republic of"},KW:{lat:29.3375,lng:47.6581,country:"Kuwait"},KG:{lat:41,lng:75,country:"Kyrgyzstan"},LA:{lat:18,lng:105,country:"Lao People's Democratic Republic"},LV:{lat:57,lng:25,country:"Latvia"},LB:{lat:33.8333,lng:35.8333,country:"Lebanon"},LS:{lat:-29.5,lng:28.5,country:"Lesotho"},LR:{lat:6.5,lng:-9.5,country:"Liberia"},LY:{lat:25,lng:17,country:"Libyan Arab Jamahiriya"},LI:{lat:47.1667,lng:9.5333,country:"Liechtenstein"},LT:{lat:56,lng:24,country:"Lithuania"},LU:{lat:49.75,lng:6.1667,country:"Luxembourg"},MO:{lat:22.1667,lng:113.55,country:"Macao"},MK:{lat:41.8333,lng:22,country:"Macedonia, the former Yugoslav Republic of"},MG:{lat:-20,lng:47,country:"Madagascar"},MW:{lat:-13.5,lng:34,country:"Malawi"},MY:{lat:2.5,lng:112.5,country:"Malaysia"},MV:{lat:3.25,lng:73,country:"Maldives"},ML:{lat:17,lng:-4,country:"Mali"},MT:{lat:35.8333,lng:14.5833,country:"Malta"},MH:{lat:9,lng:168,country:"Marshall Islands"},MQ:{lat:14.6667,lng:-61,country:"Martinique"},MR:{lat:20,lng:-12,country:"Mauritania"},MU:{lat:-20.2833,lng:57.55,country:"Mauritius"},YT:{lat:-12.8333,lng:45.1667,country:"Mayotte"},MX:{lat:23,lng:-102,country:"Mexico"},FM:{lat:6.9167,lng:158.25,country:"Micronesia, Federated States of"},MD:{lat:47,lng:29,country:"Moldova, Republic of"},MC:{lat:43.7333,lng:7.4,country:"Monaco"},MN:{lat:46,lng:105,country:"Mongolia"},ME:{lat:42,lng:19,country:"Montenegro"},MS:{lat:16.75,lng:-62.2,country:"Montserrat"},MA:{lat:32,lng:-5,country:"Morocco"},MZ:{lat:-18.25,lng:35,country:"Mozambique"},MM:{lat:22,lng:98,country:"Myanmar"},NA:{lat:-22,lng:17,country:"Namibia"},NR:{lat:-.5333,lng:166.9167,country:"Nauru"},NP:{lat:28,lng:84,country:"Nepal"},NL:{lat:52.5,lng:5.75,country:"Netherlands"},AN:{lat:12.25,lng:-68.75,country:"Netherlands Antilles"},NC:{lat:-21.5,lng:165.5,country:"New Caledonia"},NZ:{lat:-41,lng:174,country:"New Zealand"},NI:{lat:13,lng:-85,country:"Nicaragua"},NE:{lat:16,lng:8,country:"Niger"},NG:{lat:10,lng:8,country:"Nigeria"},NU:{lat:-19.0333,lng:-169.8667,country:"Niue"},NF:{lat:-29.0333,lng:167.95,country:"Norfolk Island"},MP:{lat:15.2,lng:145.75,country:"Northern Mariana Islands"},NO:{lat:62,lng:10,country:"Norway"},OM:{lat:21,lng:57,country:"Oman"},PK:{lat:30,lng:70,country:"Pakistan"},PW:{lat:7.5,lng:134.5,country:"Palau"},PS:{lat:32,lng:35.25,country:"Palestinian Territory, Occupied"},PA:{lat:9,lng:-80,country:"Panama"},PG:{lat:-6,lng:147,country:"Papua New Guinea"},PY:{lat:-23,lng:-58,country:"Paraguay"},PE:{lat:-10,lng:-76,country:"Peru"},PH:{lat:13,lng:122,country:"Philippines"},PN:{lat:-24.7,lng:-127.4,country:"Pitcairn"},PL:{lat:52,lng:20,country:"Poland"},PT:{lat:39.5,lng:-8,country:"Portugal"},PR:{lat:18.25,lng:-66.5,country:"Puerto Rico"},QA:{lat:25.5,lng:51.25,country:"Qatar"},RE:{lat:-21.1,lng:55.6,country:"R\xe9union"},RO:{lat:46,lng:25,country:"Romania"},RU:{lat:60,lng:100,country:"Russian Federation"},RW:{lat:-2,lng:30,country:"Rwanda"},SH:{lat:-15.9333,lng:-5.7,country:"Saint Helena, Ascension and Tristan da Cunha"},KN:{lat:17.3333,lng:-62.75,country:"Saint Kitts and Nevis"},LC:{lat:13.8833,lng:-61.1333,country:"Saint Lucia"},PM:{lat:46.8333,lng:-56.3333,country:"Saint Pierre and Miquelon"},VC:{lat:13.25,lng:-61.2,country:"Saint Vincent and the Grenadines"},WS:{lat:-13.5833,lng:-172.3333,country:"Samoa"},SM:{lat:43.7667,lng:12.4167,country:"San Marino"},ST:{lat:1,lng:7,country:"Sao Tome and Principe"},SA:{lat:25,lng:45,country:"Saudi Arabia"},SN:{lat:14,lng:-14,country:"Senegal"},RS:{lat:44,lng:21,country:"Serbia"},SC:{lat:-4.5833,lng:55.6667,country:"Seychelles"},SL:{lat:8.5,lng:-11.5,country:"Sierra Leone"},SG:{lat:1.3667,lng:103.8,country:"Singapore"},SK:{lat:48.6667,lng:19.5,country:"Slovakia"},SI:{lat:46,lng:15,country:"Slovenia"},SB:{lat:-8,lng:159,country:"Solomon Islands"},SO:{lat:10,lng:49,country:"Somalia"},ZA:{lat:-29,lng:24,country:"South Africa"},GS:{lat:-54.5,lng:-37,country:"South Georgia and the South Sandwich Islands"},ES:{lat:40,lng:-4,country:"Spain"},LK:{lat:7,lng:81,country:"Sri Lanka"},SD:{lat:15,lng:30,country:"Sudan"},SR:{lat:4,lng:-56,country:"Suriname"},SJ:{lat:78,lng:20,country:"Svalbard and Jan Mayen"},SZ:{lat:-26.5,lng:31.5,country:"Swaziland"},SE:{lat:62,lng:15,country:"Sweden"},CH:{lat:47,lng:8,country:"Switzerland"},SY:{lat:35,lng:38,country:"Syrian Arab Republic"},TW:{lat:23.5,lng:121,country:"Taiwan, Province of China"},TJ:{lat:39,lng:71,country:"Tajikistan"},TZ:{lat:-6,lng:35,country:"Tanzania, United Republic of"},TH:{lat:15,lng:100,country:"Thailand"},TL:{lat:-8.55,lng:125.5167,country:"Timor-Leste"},TG:{lat:8,lng:1.1667,country:"Togo"},TK:{lat:-9,lng:-172,country:"Tokelau"},TO:{lat:-20,lng:-175,country:"Tonga"},TT:{lat:11,lng:-61,country:"Trinidad and Tobago"},TN:{lat:34,lng:9,country:"Tunisia"},TR:{lat:39,lng:35,country:"Turkey"},TM:{lat:40,lng:60,country:"Turkmenistan"},TC:{lat:21.75,lng:-71.5833,country:"Turks and Caicos Islands"},TV:{lat:-8,lng:178,country:"Tuvalu"},UG:{lat:1,lng:32,country:"Uganda"},UA:{lat:49,lng:32,country:"Ukraine"},AE:{lat:24,lng:54,country:"United Arab Emirates"},GB:{lat:54,lng:-2,country:"United Kingdom"},US:{lat:38,lng:-97,country:"United States"},UM:{lat:19.2833,lng:166.6,country:"United States Minor Outlying Islands"},UY:{lat:-33,lng:-56,country:"Uruguay"},UZ:{lat:41,lng:64,country:"Uzbekistan"},VU:{lat:-16,lng:167,country:"Vanuatu"},VE:{lat:8,lng:-66,country:"Venezuela, Bolivarian Republic of"},VN:{lat:16,lng:106,country:"Viet Nam"},VG:{lat:18.5,lng:-64.5,country:"Virgin Islands, British"},VI:{lat:18.3333,lng:-64.8333,country:"Virgin Islands, U.S."},WF:{lat:-13.3,lng:-176.2,country:"Wallis and Futuna"},EH:{lat:24.5,lng:-13,country:"Western Sahara"},YE:{lat:15,lng:48,country:"Yemen"},ZM:{lat:-15,lng:30,country:"Zambia"},ZW:{lat:-20,lng:30,country:"Zimbabwe"},AF:{lat:33,lng:65,country:"Afghanistan"}}},6785:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nf}});var r=t(7437),l=t(2265),a=t(2960),o=t(7159),i=t(1538),s=t(5635),c=t(8027),d=t(3719),u=t(3742),g=t(1903),x=t(7818),p=t(6548),h=t(8601),y=t(1656),f=t(2184),m=t(8498),b=t(487),j=t(7905),Z=t(335),S=t(7318),C=t(7913),v=t(5174),w=t(9617),k=t(1847),E=t(3578),B=t(1222),R=n=>{let{yearRange:e,setYearRange:t,selectedCountry:a,setSelectedCountry:o,countryCoordinates:i}=n,[s,c]=(0,l.useState)(!1),u=n=>(e,t)=>{c(!!t&&n)};return(0,r.jsx)(g.Z,{container:!0,sx:{width:"100%",bgcolor:"background.paper",padding:3},children:(0,r.jsxs)(g.Z,{size:{xs:12},children:[(0,r.jsx)(d.Z,{children:"Select Year"}),(0,r.jsx)(v.ZP,{value:e,onChange:(n,e)=>t(e),valueLabelDisplay:"auto",min:2e3,max:2030,marks:[{value:2e3,label:"2000"},{value:2010,label:"2010"},{value:2015,label:"2015"},{value:2020,label:"2020"},{value:2030,label:"2030"}],sx:{color:"#00897B"}}),(0,r.jsx)(d.Z,{variant:"body2",sx:{color:"text.secondary",mt:2},children:"This sidebar allows you to select a specific range of years and filter data."}),(0,r.jsx)(S.Z,{sx:{mt:2}}),(0,r.jsxs)(w.Z,{expanded:"panel1"===s,onChange:u("panel1"),sx:{boxShadow:"none"},children:[(0,r.jsx)(k.Z,{expandIcon:(0,r.jsx)(B.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:(0,r.jsx)(d.Z,{children:"Countries"})}),(0,r.jsx)(E.Z,{sx:{maxHeight:"90px",overflowY:"auto"},children:(0,r.jsx)(f.Z,{children:i?Object.values(i).map((n,e)=>(0,r.jsx)(m.ZP,{button:!0,style:{cursor:"pointer"},onClick:()=>o(n.country),children:(0,r.jsx)(d.Z,{children:n.country})},e)):(0,r.jsx)(d.Z,{children:"No countries available"})})})]}),(0,r.jsx)(S.Z,{}),(0,r.jsxs)(w.Z,{expanded:"panel2"===s,onChange:u("panel2"),sx:{boxShadow:"none"},children:[(0,r.jsx)(k.Z,{expandIcon:(0,r.jsx)(B.Z,{}),"aria-controls":"panel2-content",id:"panel2-header",children:(0,r.jsx)(d.Z,{children:"Additional Options"})}),(0,r.jsx)(E.Z,{sx:{maxHeight:"60px",overflowY:"auto"},children:(0,r.jsx)(f.Z,{children:["Option 1","Option 2","Option 3"].map((n,e)=>(0,r.jsx)(m.ZP,{button:!0,onClick:()=>console.log("".concat(n," clicked")),sx:{color:"green"},children:(0,r.jsx)(d.Z,{children:n})},e))})})]})]})})},P=t(9337),I=t(3602),z=n=>{let{extraInfo:e=[],showLastProduct:t,handleRemoveInfo:l,handleRemoveLastProduct:a}=n;return(0,r.jsxs)(c.Z,{sx:{padding:2,bgcolor:"#fbfbfb",mt:2,width:"128%",marginLeft:{xs:"-1%",md:"6%"}},children:[e.length>0?e.map((n,e)=>(0,r.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1,borderBottom:"1px solid #e0e0e0",pb:1,position:"relative"},children:[(0,r.jsxs)(d.Z,{variant:"body2",children:[(0,r.jsx)("span",{style:{fontSize:"20px",color:"#37392e",marginRight:"4px"},children:"â€¢"}),n]}),(0,r.jsx)(Z.Z,{onClick:()=>l(e),size:"small",sx:{ml:"auto",height:"20px",color:"#fff",backgroundColor:"#3b4230",borderRadius:"50%",padding:"1px",mt:"4px","&:hover":{backgroundColor:"#00897B"}},children:(0,r.jsx)(P.Z,{fontSize:"small"})})]},e)):(0,r.jsx)(d.Z,{variant:"body2",sx:{color:"#888",textAlign:"center",display:"block"},children:"No additional information available."}),t&&(0,r.jsxs)(i.Z,{sx:{mt:2,display:"flex",alignItems:"center",pb:1},children:[(0,r.jsx)(i.Z,{sx:{width:"48px",height:"48px",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},children:(0,r.jsx)(I.Z,{sx:{color:"#656959",fontSize:"32px"}})}),(0,r.jsxs)(i.Z,{paddingLeft:"10px",children:[(0,r.jsx)(d.Z,{variant:"body2",sx:{fontWeight:"bold",color:"#333"},children:"Product 05"}),(0,r.jsx)(d.Z,{variant:"caption",sx:{color:"#999"},children:"Lorem ipsum dolor sit amet"})]}),(0,r.jsx)(Z.Z,{size:"small",sx:{ml:"auto",color:"#fff",backgroundColor:"#3b4230",borderRadius:"50%",padding:"2px","&:hover":{backgroundColor:"#00897B"}},onClick:a,children:(0,r.jsx)(P.Z,{fontSize:"small"})})]})]})},M=n=>{let{selected:e,onSelect:t,yearRange:a,setYearRange:o,selectedCountry:s,setSelectedCountry:c,selectedProduct:u,setSelectedProduct:x,countryCoordinates:v,selectedCategory:w,setIsSidebarOpen:k}=n,[E,B]=(0,l.useState)([]),[P,M]=(0,l.useState)(),[A,F]=(0,l.useState)([]),[T,D]=(0,l.useState)(!0),[L,G]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{G(!0);try{let[n,e]=await Promise.all([fetch("https://epd-fullstack-project.vercel.app/api/products/"),fetch("https://epd-fullstack-project.vercel.app/api/ibudata/")]);if(!n.ok||!e.ok)throw Error("HTTP error! statuses: ".concat(n.status,", ").concat(e.status));let t=await n.json(),r=await e.json(),l=[...t.results,...r.results].map(n=>({category_name:n.category_name||n.classific||null,name:n.product_name||n.name||"No name specified",industry_solution:n.industry_solution||n.type||"No solution specified",image_url:n.image_url||null}));B(l)}catch(n){console.error("Error fetching products:",n),M("Error fetching products")}finally{G(!1)}})()},[]),(0,l.useEffect)(()=>{let n=[];s&&n.push("Filtered by country: ".concat(s)),a&&n.push("Year range: ".concat(a[0]," - ").concat(a[1])),w&&"all"!==w&&n.push("Category: ".concat(w)),F(n)},[s,a,w]);let N=n=>{x(n.name),F(e=>[...e,"Selected product: ".concat(n.name),"Industry solution: ".concat(n.industry_solution)])},U=E.filter(n=>"all"===w||(n.category_name||"").split(" / ").includes(w)),W=n=>{n.target.onerror=null,n.target.style.display="none",n.target.parentNode.querySelector(".fallback-icon").style.display="flex"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{sx:{width:"128%",bgcolor:"#ffffff",boxShadow:1,display:"flex",flexDirection:"column",overflow:"hidden",height:"70vh",marginLeft:{xs:"-1%",md:"6%"}},children:[(0,r.jsx)(i.Z,{sx:{bgcolor:"#f0f0f0",display:"flex",justifyContent:"center",borderRadius:"20px",margin:"15px"},children:(0,r.jsxs)(g.Z,{container:!0,spacing:1,children:[(0,r.jsx)(g.Z,{size:{xs:6,md:6},children:(0,r.jsx)(p.Z,{variant:"Legend"===e?"contained":"outlined",color:"success",onClick:()=>t("Legend"),sx:{width:"160%",height:"40px",marginLeft:"-57%",border:"none",borderRadius:"20px",background:"Legend"===e?"linear-gradient(to right, #4DB6AC, #00897B,#00897B,#4DB6AC)":"#f0f0f0",color:"Legend"===e?"white":"black",fontWeight:"bold",boxShadow:"none"},children:"Legend"})}),(0,r.jsx)(g.Z,{size:{xs:6,md:6},children:(0,r.jsx)(p.Z,{variant:"Products"===e?"contained":"outlined",color:"success",onClick:()=>t("Products"),sx:{width:"160%",height:"40px",border:"none",borderRadius:"20px",background:"Products"===e?"linear-gradient(to right, #4DB6AC, #00897B,#00897B,#4DB6AC)":"#f0f0f0",color:"Products"===e?"white":"black",fontWeight:"bold",boxShadow:"none"},children:"Products"})})]})}),"Products"===e&&(0,r.jsxs)(g.Z,{container:!0,alignItems:"center",sx:{px:4,my:3},children:[(0,r.jsx)(g.Z,{size:{xs:6,md:6},children:(0,r.jsx)(d.Z,{variant:"body2",children:"Select Priority"})}),(0,r.jsx)(g.Z,{size:{xs:6,md:6},children:(0,r.jsxs)(h.Z,{defaultValue:"Top products",variant:"outlined",size:"small",fullWidth:!0,sx:{bgcolor:"#F5F5F5",borderRadius:"20px",height:"42px",border:"none","& fieldset":{border:"none"}},children:[(0,r.jsx)(y.Z,{value:"Top products",children:"Top products"}),(0,r.jsx)(y.Z,{value:"New arrivals",children:"New arrivals"})]})})]}),(0,r.jsx)(i.Z,{sx:{overflowY:"auto",flexGrow:1,padding:2},children:"Products"===e?(0,r.jsx)(f.Z,{children:L?Array.from(Array(6)).map((n,e)=>(0,r.jsxs)(m.ZP,{sx:{py:1},children:[(0,r.jsx)(b.Z,{variant:"rectangular",width:60,height:60,sx:{mr:2}}),(0,r.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,r.jsx)(b.Z,{width:"70%",height:24}),(0,r.jsx)(b.Z,{width:"40%",height:20})]})]},"skeleton-".concat(e))):U.length>0?U.map((n,e)=>(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)(m.ZP,{sx:{display:"flex",alignItems:"center",backgroundColor:"#ffffff",px:2,py:.5,cursor:"pointer"},onClick:()=>N(n),children:[(0,r.jsx)(i.Z,{sx:{width:"65px",height:"60px",backgroundColor:"#f7f7f7",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",borderRadius:"8px",overflow:"hidden",position:"relative"},children:n.image_url?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{component:"img",src:n.image_url,alt:n.name,onError:W,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),(0,r.jsx)(i.Z,{className:"fallback-icon",sx:{display:"none",position:"absolute",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:(0,r.jsx)(I.Z,{sx:{color:"#656959",fontSize:"35px"}})})]}):(0,r.jsx)(I.Z,{sx:{color:"#656959",fontSize:"35px"}})}),(0,r.jsx)(i.Z,{sx:{flexGrow:1},children:(0,r.jsx)(j.Z,{primary:n.name,secondary:n.industry_solution,primaryTypographyProps:{sx:{fontWeight:500,color:"#424242",fontSize:"15px"}},secondaryTypographyProps:{sx:{color:"#666",fontSize:"14px"}}})}),(0,r.jsx)(Z.Z,{size:"small",sx:{ml:"auto"},children:(0,r.jsx)(C.Z,{sx:{color:"#4DB6AC"}})})]}),e<U.length-1&&(0,r.jsx)(S.Z,{sx:{width:"100%",bgcolor:"#e0e0e0"}})]},"Product".concat(e))):(0,r.jsx)(d.Z,{variant:"body1",sx:{p:2,color:"#666"},children:"No products found for this category."})}):(0,r.jsx)(R,{yearRange:a,setYearRange:o,selectedCountry:s,setSelectedCountry:c,countryCoordinates:v})})]}),(0,r.jsx)(z,{extraInfo:A,showLastProduct:T,handleRemoveInfo:n=>{F(e=>e.filter((e,t)=>t!==n))},handleRemoveLastProduct:()=>{D(!1)}})]})},A=t(6223),F=t(5656),T=t(5349),D=t(1561),L=t(8438),G=t(6032),N=t(6760),U=t(1914),W=t(8069),_=t(8024);let O=(0,_.ZP)(i.Z)(n=>{let{selected:e}=n;return{width:"6px",height:e?"28px":"0",backgroundColor:"#00897B",borderRadius:"0 3px 3px 0",position:"absolute",left:0,transition:"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),K=(0,_.ZP)(i.Z)(n=>{let{selected:e}=n;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"12px 6px",margin:"8px 0",cursor:"pointer",position:"relative",transition:"all 0.35s cubic-bezier(0.4, 0, 0.2, 1)",borderRadius:"14px",backgroundColor:e?"rgba(0, 137, 123, 0.12)":"transparent",backdropFilter:e?"blur(8px)":"none",boxShadow:e?"0 4px 12px rgba(0, 137, 123, 0.08)":"none",width:"54px",height:"60px","&:hover":{backgroundColor:"rgba(0, 137, 123, 0.08)",transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(0, 137, 123, 0.1)","& .category-icon":{transform:"scale(1.1)"},"& .category-label":{opacity:1,transform:"translateY(0)"}}}});(0,_.ZP)(i.Z)(n=>{let{selected:e}=n;return{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"10px",backgroundColor:e?"rgba(0, 137, 123, 0.15)":"rgba(178, 223, 219, 0.15)",color:e?"#00897B":"#80CBC4",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}});var H=n=>{let{toggleSidebar:e,setSelectedCategory:t,selectedCategory:s="all",setCategories:c,categories:g,setSelectedSidebar:x}=n,{loading:p,error:h,allProducts:y}=(0,W.rn)(),[m,b]=(0,l.useState)(""),[j,S]=(0,l.useState)([]),[C,v]=(0,l.useState)(!1),w=(0,a.Z)(),k=(0,o.Z)(w.breakpoints.down("sm")),[E,B]=(0,l.useState)(0),R=(0,l.useCallback)(n=>{let e={};return n.forEach(n=>{e[n]=(e[n]||0)+1}),Object.entries(e).sort((n,e)=>{let[,t]=n,[,r]=e;return r-t}).slice(0,4).map(n=>{let[e,t]=n;return{name:e,count:t}})},[]);(0,l.useEffect)(()=>{if(!p&&!h)try{let n=Array.from(new Set((null==y?void 0:y.flatMap(n=>(n.category_name||n.classific||"Uncategorized").split(" / ").map(n=>n.trim())))||[]));c([...n]),B((null==y?void 0:y.length)||0)}catch(n){console.error("Error processing categories:",n),b("Error processing categories")}},[p,h,y,c]),(0,l.useEffect)(()=>{g.length>0&&S(R(g))},[g,R]);let P=n=>{t(n),k&&I(),x("Products"),e()},I=()=>{v(!C)},z=n=>"all"===n?"A":n.charAt(0).toUpperCase(),M=n=>{if("all"===n)return"#00897B";let e=n.split("").reduce((n,e)=>n+e.charCodeAt(0),0),t=["#00897B","#3949AB","#D81B60","#8E24AA","#F57C00","#5D4037","#546E7A","#607D8B"];return t[e%t.length]},_=()=>(0,r.jsxs)(i.Z,{sx:{width:"80px",height:"100vh",backgroundColor:"#ffffff",boxShadow:"0 0 20px rgba(0, 0, 0, 0.07)",display:"flex",flexDirection:"column",alignItems:"center",py:3,position:"relative",borderRight:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,r.jsxs)(i.Z,{sx:{mb:2,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[(0,r.jsx)(A.Z,{title:"Profile",placement:"right",TransitionComponent:F.Z,arrow:!0,children:(0,r.jsx)(T.Z,{sx:{width:"48px",height:"48px",backgroundColor:"#00897B",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(0, 137, 123, 0.25)","&:hover":{transform:"scale(1.05)",boxShadow:"0 6px 16px rgba(0, 137, 123, 0.3)"}},children:(0,r.jsx)(G.Z,{sx:{color:"#ffffff",fontSize:"24px"}})})}),(0,r.jsx)(d.Z,{variant:"subtitle2",sx:{mt:1.5,fontSize:"11px",color:"#00897B",fontWeight:600,letterSpacing:"0.5px"},children:"USER"})]}),(0,r.jsx)(u.Z,{label:"Categories",size:"small",sx:{fontSize:"10px",fontWeight:600,backgroundColor:"rgba(0, 137, 123, 0.08)",color:"#00897B",mb:2,height:"22px","& .MuiChip-label":{px:1}}}),(0,r.jsxs)(f.Z,{sx:{width:"100%",p:0,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(A.Z,{title:"All Products (".concat(E,")"),placement:"right",TransitionComponent:F.Z,arrow:!0,children:(0,r.jsxs)(K,{selected:"all"===s,onClick:()=>P("all"),children:[(0,r.jsx)(O,{selected:"all"===s}),(0,r.jsx)(D.Z,{badgeContent:E,color:"primary",sx:{"& .MuiBadge-badge":{backgroundColor:"#00897B",fontSize:"9px",minWidth:"16px",height:"16px",top:-2,right:-2}},children:(0,r.jsx)(T.Z,{sx:{width:"30px",height:"30px",fontSize:"12px",backgroundColor:"all"===s?"#00897B":"rgba(0, 137, 123, 0.12)",color:"all"===s?"#fff":"#00897B",transition:"all 0.3s ease"},children:(0,r.jsx)(U.Z,{fontSize:"small"})})}),(0,r.jsx)(d.Z,{className:"category-label",variant:"caption",sx:{mt:1,color:"all"===s?"#00897B":"#607D8B",fontWeight:"all"===s?600:500,fontSize:"11px"},children:"All"})]})}),j.map(n=>(0,r.jsx)(A.Z,{title:"".concat(n.name," (").concat(n.count,")"),placement:"right",TransitionComponent:F.Z,arrow:!0,children:(0,r.jsxs)(K,{selected:s===n.name,onClick:()=>P(n.name),children:[(0,r.jsx)(O,{selected:s===n.name}),(0,r.jsx)(D.Z,{badgeContent:n.count,color:"primary",sx:{"& .MuiBadge-badge":{backgroundColor:"#00897B",fontSize:"9px",minWidth:"16px",height:"16px",top:-2,right:-2}},children:(0,r.jsx)(T.Z,{sx:{width:"30px",height:"30px",fontSize:"12px",backgroundColor:s===n.name?M(n.name):"".concat(M(n.name),"22"),color:s===n.name?"#fff":M(n.name),transition:"all 0.3s ease"},children:z(n.name)})}),(0,r.jsx)(d.Z,{className:"category-label",variant:"caption",sx:{mt:1,color:s===n.name?"#00897B":"#607D8B",fontWeight:s===n.name?600:500,fontSize:"11px",maxWidth:"90%",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name.length>8?"".concat(n.name.substring(0,7),"..."):n.name})]})},n.name))]}),m&&(0,r.jsx)(d.Z,{color:"error",sx:{position:"absolute",bottom:16,fontSize:"12px"},children:m})]});return(0,r.jsx)(r.Fragment,{children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{onClick:I,sx:{position:"fixed",top:20,left:20,backgroundColor:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.15)",zIndex:1200,width:"42px",height:"42px",transition:"all 0.2s ease",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.05)","&:hover":{backgroundColor:"#ffffff",transform:"scale(1.05)"}},children:(0,r.jsx)(N.Z,{sx:{color:"#00897B"}})}),(0,r.jsx)(L.ZP,{variant:"temporary",anchor:"left",open:C,onClose:I,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:"80px",backgroundColor:"transparent",border:"none"}},children:(0,r.jsx)(_,{})})]}):(0,r.jsx)(_,{})})},Y=t(6228),V=t(2326),J=t(6917),q=t(3751),Q=t(2461),X=t(7245),$=t(2436),nn=t(4284),ne=t(4345),nt=t(152),nr=t(9388),nl=t(1573),na=t(5248),no=t(317),ni=n=>{let{mapRef:e}=n,[t,s]=(0,l.useState)((0,r.jsx)(nn.Z,{sx:{color:"#384029"}})),[u,x]=(0,l.useState)(!1),[p,h]=(0,l.useState)(""),[y,b]=(0,l.useState)(1),[S,v]=(0,l.useState)(!1),w=(0,a.Z)(),k=(0,o.Z)(w.breakpoints.down("sm")),{setSelectedProduct:E}=(0,W.rn)(),{searchResults:B,setSearchQuery:R,isLoading:P,markerSelected:I}=(0,no.R)(),z=B||[],M=n=>{if(n){let e=document.createElement("a");e.href=n,e.target="_blank",e.rel="noopener noreferrer",e.download=n.split("/").pop(),e.click()}},F=n=>{let e=n.product_name||n.name;h(e),R(e);let t={...n};console.log("Selecting product:",e,t),E(t),v(!1)},T=Array.isArray(z)?z.reduce((n,e)=>{let t=e.country||"Unknown";return n[t]||(n[t]=[]),n[t].push(e),n},{}):{},D=Object.keys(T),L=T[D[y-1]]||[];return(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",width:"100%",position:"fixed",top:k?0:100,zIndex:I?500:900,transition:"z-index 0.1s ease"},children:[(0,r.jsxs)(g.Z,{container:!0,display:"flex",justifyContent:"center",sx:{width:k?"95%":"70%"},children:[(0,r.jsxs)(g.Z,{item:!0,xs:k?8:9,sx:{marginRight:k?0:"8px",position:"relative"},children:[(0,r.jsx)(Y.Z,{placeholder:"Search for products",variant:"outlined",fullWidth:!0,value:p,onChange:n=>{let e=n.target.value;h(e),R(e),E(null),v(e.length>0),e.trim()||v(!1)},onKeyPress:n=>{"Enter"===n.key&&p.trim()&&v(!0)},onClick:()=>{h(""),R(""),E(null),v(!1)},sx:{borderRadius:"25px",transition:"all 0.3s ease","& .MuiOutlinedInput-root":{height:"45px",borderRadius:"25px",background:"rgba(251, 251, 251, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 6px 16px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"},"&.Mui-focused":{boxShadow:"0 8px 20px rgba(0, 137, 123, 0.15)",background:"#ffffff"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 137, 123, 0.2)"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#00897B",borderWidth:"2px"}},InputProps:{endAdornment:(0,r.jsxs)(V.Z,{position:"end",children:[(0,r.jsx)(A.Z,{title:'Search only shows products from the regular products API. Search matches the first letter after \'zehnder-\' in product names. Example: "l" will find "zehnder-luna"',children:(0,r.jsx)(na.Z,{sx:{color:"#00897B",marginRight:1,fontSize:"20px",cursor:"help"}})}),(0,r.jsx)($.Z,{sx:{color:"#00897B",transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",cursor:"pointer"}},onClick:()=>v(!0)})]})}}),S&&(0,r.jsx)(c.Z,{elevation:3,sx:{position:"absolute",zIndex:9999,marginTop:"5px",width:"100%",borderRadius:"12px",overflow:"hidden",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)"},children:(0,r.jsx)(i.Z,{p:2,children:P?(0,r.jsx)(d.Z,{color:"textSecondary",sx:{py:2,textAlign:"center"},children:"Searching..."}):z.length>0?(0,r.jsx)(f.Z,{sx:{py:0},children:z.slice(0,5).map((n,e)=>(0,r.jsxs)(m.ZP,{sx:{borderBottom:e<z.length-1?"1px solid #f0f0f0":"none",transition:"all 0.2s ease",cursor:"pointer","&:hover":{backgroundColor:"#E0F2F1"}},onClick:()=>F(n),children:[(0,r.jsx)(J.Z,{children:(0,r.jsx)(i.Z,{component:"img",src:n.image_url||"/public/images/images(map).png",alt:n.product_name,sx:{width:40,height:40,borderRadius:"8px",objectFit:"cover"}})}),(0,r.jsx)(j.Z,{primary:(0,r.jsx)(d.Z,{variant:"subtitle2",sx:{color:"#00897B",fontWeight:600},children:n.product_name||n.name}),secondary:(0,r.jsx)(d.Z,{variant:"caption",sx:{color:"#666"},children:n.geo||"Location not specified"})})]},e))}):(0,r.jsxs)(d.Z,{color:"textSecondary",sx:{py:2,textAlign:"center"},children:["No products found. Try a different search.",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{style:{fontSize:"12px",marginTop:"8px",display:"block"},children:['For zehnder products, type a letter that appears after "zehnder-".',(0,r.jsx)("br",{}),'Example: "l" will find "zehnder-luna"']})]})})})]}),(0,r.jsx)(g.Z,{item:!0,xs:k?4:2,sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(q.Z,{size:"small","aria-label":"Icon",sx:{background:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease","&:hover":{background:"#E0F2F1",boxShadow:"0 6px 16px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},onClick:()=>{t.type===nn.Z?(s((0,r.jsx)(ne.Z,{sx:{color:"#384029"}})),x(!0)):(s((0,r.jsx)(nn.Z,{sx:{color:"#384029"}})),x(!1))},children:t})})]}),(0,r.jsx)(Q.Z,{open:u,onClose:()=>{x(!1),s((0,r.jsx)(nn.Z,{sx:{color:"#384029"}}))},sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsxs)(i.Z,{sx:{width:k?"90%":"900px",height:k?"80%":"600px",bgcolor:"white",padding:3,marginTop:k?5:10,borderRadius:4,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",overflowY:"auto",animation:"fadeIn 0.3s ease-out","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}},"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{background:"#B2DFDB",borderRadius:"10px","&:hover":{background:"#80CBC4"}}},children:[(0,r.jsxs)(d.Z,{variant:"h5",sx:{marginBottom:3,color:"#00897B",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(nn.Z,{sx:{fontSize:28}}),"Products from ",D[y-1]||"All Countries"]}),(0,r.jsx)(f.Z,{sx:{padding:0},children:L.map((n,e)=>{var t;return(0,r.jsxs)(m.ZP,{sx:{display:"flex",alignItems:"center",backgroundColor:"#ffffff",height:"75px",paddingX:2,paddingY:5,borderRadius:"12px",marginBottom:2,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transform:"translateY(-2px)",backgroundColor:"#F5F5F5"}},children:[(0,r.jsx)(J.Z,{sx:{minWidth:"40px",marginRight:4},children:(0,r.jsx)(i.Z,{component:"img",src:n.image_url||"/public/images/images(map).png",alt:"Product ".concat(e+1),sx:{width:40,height:40,objectFit:"cover",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"}})}),(0,r.jsxs)(i.Z,{sx:{flex:1,display:"flex",alignItems:"center"},children:[(0,r.jsx)(j.Z,{primary:(0,r.jsx)(d.Z,{variant:"subtitle1",sx:{fontWeight:600,color:"#333"},children:n.name||n.product_name}),secondary:(0,r.jsx)(d.Z,{variant:"body2",sx:{fontSize:"12px",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(t=n.description)||void 0===t?void 0:t.length)>100?"".concat(n.description.slice(0,100),"..."):n.description||""})}),(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:2},children:[(0,r.jsxs)(i.Z,{sx:{height:"24px",width:"auto",display:"flex",alignItems:"center",backgroundColor:"#E0F2F1",padding:"5px 12px",borderRadius:"20px",marginBottom:1},children:[(0,r.jsx)(nr.Z,{sx:{color:"#00897B",fontSize:"16px",marginRight:.5}}),(0,r.jsx)(d.Z,{variant:"caption",sx:{color:"#00897B",fontWeight:600},children:n.type||"Product"})]}),(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:["EPD"===n.type&&n.pdf_url?(0,r.jsx)(A.Z,{title:"Download PDF",children:(0,r.jsx)(Z.Z,{onClick:()=>M(n.pdf_url),sx:{backgroundColor:"#E0F2F1","&:hover":{backgroundColor:"#B2DFDB"},transition:"all 0.2s ease"},children:(0,r.jsx)(nt.Z,{sx:{color:"#00897B"}})})}):(0,r.jsx)(A.Z,{title:"Request Info",children:(0,r.jsx)(Z.Z,{onClick:()=>alert("Request sent!"),sx:{backgroundColor:"#E0F2F1","&:hover":{backgroundColor:"#B2DFDB"},transition:"all 0.2s ease"},children:(0,r.jsx)(nl.Z,{style:{color:"#00897B",fontSize:"20px"}})})}),(0,r.jsx)(Z.Z,{sx:{marginLeft:1,backgroundColor:"#E0F2F1","&:hover":{backgroundColor:"#B2DFDB"},transition:"all 0.2s ease"},children:(0,r.jsx)(C.Z,{sx:{color:"#00897B"}})})]})]})]})]},"Product".concat(e))})}),(0,r.jsx)(X.Z,{count:D.length,page:y,onChange:(n,e)=>b(e),sx:{marginTop:2,display:"flex",justifyContent:"center"}})]})})]})},ns=t(1908),nc=t(1733),nd=t(9806),nu=t(8549),ng=t(5741),nx=()=>{let{loading:n}=(0,W.rn)(),e=(0,a.Z)(),t=(0,o.Z)(e.breakpoints.down("sm")),[s,c]=(0,l.useState)("en");return(0,r.jsx)(nc.Z,{position:"fixed",elevation:0,sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",color:"#424242",zIndex:1100,height:"64px"},children:(0,r.jsxs)(nd.Z,{sx:{justifyContent:"space-between",minHeight:"64px"},children:[(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsxs)(d.Z,{variant:"h6",sx:{fontWeight:600,color:"#00897B",letterSpacing:"0.5px",mr:1,display:"flex",alignItems:"center"},children:[(0,r.jsx)(i.Z,{component:"span",sx:{width:38,height:28,backgroundColor:"#00897B",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",mr:1.5,boxShadow:"0 2px 8px rgba(0, 137, 123, 0.25)"},children:(0,r.jsx)(d.Z,{sx:{color:"white",fontWeight:700,fontSize:"14px"},children:"EPD"})}),!t&&"Map Platform"]}),!t&&(0,r.jsxs)(i.Z,{sx:{ml:2,display:"flex"},children:[(0,r.jsx)(p.Z,{size:"small",sx:{color:"#00897B",fontWeight:500,mx:.5,fontSize:"0.875rem","&:hover":{backgroundColor:"rgba(0, 137, 123, 0.08)"}},children:"Map"}),(0,r.jsx)(p.Z,{size:"small",sx:{color:"#757575",fontWeight:500,mx:.5,fontSize:"0.875rem","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}},children:"Products"}),(0,r.jsx)(p.Z,{size:"small",sx:{color:"#757575",fontWeight:500,mx:.5,fontSize:"0.875rem","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}},children:"Analytics"})]})]}),(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[!n&&(0,r.jsx)(i.Z,{sx:{position:"relative",mr:1},children:(0,r.jsx)(Z.Z,{size:"small",sx:{backgroundColor:"rgba(0, 0, 0, 0.03)",mr:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},children:(0,r.jsx)($.Z,{fontSize:"small",sx:{color:"#616161"}})})}),(0,r.jsx)(A.Z,{title:"Help",children:(0,r.jsx)(Z.Z,{size:"small",sx:{backgroundColor:"rgba(0, 0, 0, 0.03)",mr:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},children:(0,r.jsx)(na.Z,{fontSize:"small",sx:{color:"#616161"}})})}),(0,r.jsx)(A.Z,{title:"Notifications",children:(0,r.jsx)(Z.Z,{size:"small",sx:{backgroundColor:"rgba(0, 0, 0, 0.03)",mr:2,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},children:(0,r.jsx)(ng.Z,{fontSize:"small",sx:{color:"#616161"}})})}),(0,r.jsx)(nu.Z,{sx:{mr:2},children:(0,r.jsxs)(h.Z,{value:s,onChange:n=>{c(n.target.value)},displayEmpty:!0,variant:"outlined",size:"small",sx:{height:36,fontSize:"0.875rem",fontWeight:500,color:"#616161",backgroundColor:"rgba(0, 0, 0, 0.03)",borderRadius:"8px","& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"& .MuiSelect-icon":{color:"#616161"}},MenuProps:{PaperProps:{sx:{borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",mt:.5}}},children:[(0,r.jsx)(y.Z,{value:"en",children:"English"}),(0,r.jsx)(y.Z,{value:"de",children:"Deutsch"}),(0,r.jsx)(y.Z,{value:"fr",children:"Fran\xe7ais"}),(0,r.jsx)(y.Z,{value:"es",children:"Espa\xf1ol"})]})}),(0,r.jsx)(T.Z,{sx:{width:36,height:36,backgroundColor:"#00897B",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transform:"scale(1.05)"}},children:"U"})]})]})})};t(6027);let np=(0,x.default)(()=>Promise.all([t.e(970),t.e(160)]).then(t.bind(t,5160)).catch(n=>(console.error("Failed to load VerticalToggleButtons component:",n),()=>(0,r.jsx)("div",{children:"Error loading buttons"}))),{loadableGenerated:{webpack:()=>[5160]},ssr:!1,loading:()=>(0,r.jsx)("div",{children:"Loading..."})}),nh=(0,x.default)(()=>Promise.all([t.e(733),t.e(337),t.e(795)]).then(t.bind(t,6795)).catch(n=>(console.error("Failed to load Map component:",n),()=>(0,r.jsx)("div",{children:"Error loading map"}))),{loadableGenerated:{webpack:()=>[6795]},ssr:!1,loading:()=>(0,r.jsx)("div",{children:"Loading map..."})}),ny=n=>{let{children:e,fallback:t=(0,r.jsx)("div",{children:"Loading..."})}=n,[a,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{o(!0)},[]),a?e:t};var nf=()=>{let n=(0,a.Z)(),e=(0,o.Z)(n.breakpoints.down("sm")),t=(0,l.useRef)(null),[x,p]=(0,l.useState)("Legend"),[h,y]=(0,l.useState)(!1),[f,m]=(0,l.useState)([2e3,2050]),[b,j]=(0,l.useState)(""),[Z,S]=(0,l.useState)(""),[C,v]=(0,l.useState)(""),[w,k]=(0,l.useState)([]),[E,B]=(0,l.useState)([]),[R,P]=(0,l.useState)(3),[I,z]=(0,l.useState)(!0);return(0,r.jsx)(W.Jd,{children:(0,r.jsx)(no.X,{children:(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#fafafa"},children:[(0,r.jsx)(nx,{}),(0,r.jsxs)(i.Z,{sx:{flexGrow:1,mt:"64px",position:"relative",display:"flex",overflow:"hidden"},children:[(0,r.jsx)(i.Z,{sx:{position:"relative",height:"100%",zIndex:100},children:(0,r.jsx)(H,{toggleSidebar:()=>{y(!0)},setSelectedCategory:v,selectedCategory:C,setCategories:k,categories:w,setSelectedSidebar:p})}),(0,r.jsx)(g.Z,{container:!0,spacing:1,sx:{zIndex:2,position:"relative",mt:2},children:(0,r.jsx)(g.Z,{size:{xs:12,sm:6,md:12},children:(0,r.jsx)(ni,{mapRef:t})})}),(0,r.jsxs)(g.Z,{container:!0,sx:{display:"flex",flex:1,position:"relative",height:"685px"},children:[(0,r.jsx)(g.Z,{container:!0,sx:{display:"flex",flexDirection:"row"},children:h&&(0,r.jsx)(i.Z,{sx:{zIndex:3,width:"250px",position:"relative",top:"0",marginLeft:"0px"},children:(0,r.jsx)(M,{selected:x,onSelect:p,yearRange:f,setYearRange:m,selectedCountry:b,setSelectedCountry:j,selectedProduct:Z,setSelectedProduct:S,countryCoordinates:ns.Z,selectedCategory:C,setIsSidebarOpen:y})})}),(0,r.jsx)(g.Z,{size:{xs:12},sx:{position:"absolute",zIndex:1,top:0,left:0,height:"100%"},children:(0,r.jsx)(ny,{children:(0,r.jsx)("section",{style:{height:"100vh",width:"100vw",position:"fixed",zIndex:-1,top:0,left:0},children:(0,r.jsx)(nh,{ref:t,selectedCountry:b,selectedProduct:Z,yearRange:f,selectedCategory:C,setCategories:k,categories:w,zoom:R,setZoom:P})})})}),(0,r.jsx)(s.Z,{in:I,timeout:800,children:(0,r.jsxs)(c.Z,{elevation:3,sx:{position:"fixed",top:e?"auto":"100px",left:e?"50%":"35px",bottom:e?"80px":"auto",transform:e?"translateX(-50%)":"none",width:e?"90%":"280px",borderRadius:"16px",padding:"20px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",zIndex:900,transition:"all 0.3s ease","&:hover":{boxShadow:"0 12px 48px rgba(0, 0, 0, 0.15)",transform:e?"translateX(-50%) translateY(-5px)":"translateY(-5px)"},display:e&&h?"none":"block"},children:[(0,r.jsx)(d.Z,{variant:"h6",sx:{color:"#00897B",fontWeight:600,mb:2},children:"Global Product Map"}),(0,r.jsxs)(i.Z,{sx:{mb:2},children:[(0,r.jsx)(d.Z,{variant:"body2",sx:{color:"#555",mb:1},children:"Currently viewing:"}),(0,r.jsx)(u.Z,{label:b||"All Countries",size:"small",sx:{mr:1,mb:1,backgroundColor:"#E0F2F1",color:"#00897B",fontWeight:500}}),(0,r.jsx)(u.Z,{label:Z||"All Products",size:"small",sx:{mr:1,mb:1,backgroundColor:"#E0F2F1",color:"#00897B",fontWeight:500}}),(0,r.jsx)(u.Z,{label:C||"All Categories",size:"small",sx:{mr:1,mb:1,backgroundColor:"#E0F2F1",color:"#00897B",fontWeight:500}})]}),(0,r.jsxs)(i.Z,{sx:{mb:2},children:[(0,r.jsx)(d.Z,{variant:"body2",sx:{color:"#555",mb:1},children:"Year Range:"}),(0,r.jsxs)(d.Z,{variant:"body1",sx:{fontWeight:500},children:[f[0]," - ",f[1]]})]}),(0,r.jsx)(i.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,r.jsx)(d.Z,{variant:"caption",sx:{color:"#00897B",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>z(!1),children:"Hide this card"})})]})}),(0,r.jsx)(g.Z,{sx:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3},children:(0,r.jsx)(ny,{children:(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(np,{mapZoom:R,setMapZoom:P,selectedProduct:Z,setShowInfoCard:z})})})})]})]})]})})})}},8069:function(n,e,t){"use strict";t.d(e,{Jd:function(){return i},rn:function(){return s}});var r=t(7437),l=t(2265),a=t(1908);let o=(0,l.createContext)(),i=n=>{let{children:e}=n,[t,i]=(0,l.useState)([]),[s,c]=(0,l.useState)([]),[d,u]=(0,l.useState)([]),[g,x]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),[y,f]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let n=async n=>{let e=[],t=n;for(;t;){console.log("Fetching data from: ".concat(t));let n=await fetch(t);if(!n.ok)throw Error("API error: ".concat(n.status," ").concat(n.statusText));let r=await n.json();r.results&&Array.isArray(r.results)&&(e=[...e,...r.results],console.log("Added ".concat(r.results.length," results, total now: ").concat(e.length))),t=r.next}return e};(async()=>{h(!0),f(null);try{console.log("Starting to fetch all products data...");let e=await n("https://epd-fullstack-project.vercel.app/api/products/");console.log("Fetched ".concat(e.length," regular products"));let t=await n("https://epd-fullstack-project.vercel.app/api/ibudata/");console.log("Fetched ".concat(t.length," EPD products"));let r=e.map(n=>({...n,id:n.id||"reg-".concat(Math.random().toString(36).substr(2,9)),product_name:n.product_name||n.name||"Unnamed Product",name:n.product_name||n.name||"Unnamed Product",isRegularProduct:!0,type:"regular",geo:n.geo||"EU27"}));u(r);let l=t.map(n=>({...n,id:n.uid||"epd-".concat(Math.random().toString(36).substr(2,9)),product_name:n.name||n.product_name||"EPD Product ".concat(n.uid||""),name:n.name||n.product_name||"EPD Product ".concat(n.uid||""),isEpdProduct:!0,type:"EPD",geo:n.geo||"EU27"})),o={TH2:"TH",TH3:"TH",FR2:"FR",FR3:"FR",FR4:"FR",DE2:"DE",DE3:"DE",DE4:"DE",IT2:"IT",IT3:"IT",UK2:"UK",UK3:"UK",RU2:"RU",RU3:"RU",RU4:"RU","EU-27":"EU27","EU-28":"EU27",GLO:"Europe",EPD:"EU27",IBU:"DE",RER:"EU27",WEU:"EU27",CEE:"EU27",RoW:"Europe"},s=[...r,...l];console.log("Total combined products: ".concat(s.length));let d={};s.forEach(n=>{let e=n.geo||"undefined";d[e]=(d[e]||0)+1}),console.log("Geo field distribution:",d);let g=s.map(n=>{let e=n.geo;if(o[e]&&(e=o[e]),e&&a.Z[e]){let t=a.Z[e];return{...n,lat:t.lat,lng:t.lng,country:t.country,geoOriginal:n.geo,geoMapped:e}}let t=e?e.toUpperCase():"";if(t&&a.Z[t]){let e=a.Z[t];return{...n,lat:e.lat,lng:e.lng,country:e.country,geoOriginal:n.geo,geoMapped:t}}return console.warn('No coordinates found for geo code "'.concat(e,'" for product "').concat(n.name,'"')),{...n,lat:a.Z.Europe.lat,lng:a.Z.Europe.lng,country:"Europe (Default)",geoOriginal:n.geo,geoMapped:"Europe"}}),x=g.filter(n=>void 0!==n.lat&&void 0!==n.lng&&!isNaN(parseFloat(n.lat))&&!isNaN(parseFloat(n.lng)));console.log("Products with valid coordinates: ".concat(x.length,"/").concat(g.length)),c(g),i(s),h(!1)}catch(n){console.error("Error fetching products:",n),f(n.message),h(!1)}})()},[]),(0,r.jsx)(o.Provider,{value:{products:t,allProducts:s,regularProducts:d,selectedProduct:g,setSelectedProduct:x,loading:p,error:y},children:e})};function s(){let n=(0,l.useContext)(o);if(void 0===n)throw Error("useProducts must be used within a ProductsProvider");return n}},317:function(n,e,t){"use strict";t.d(e,{R:function(){return s},X:function(){return i}});var r=t(7437),l=t(2265),a=t(8069);let o=(0,l.createContext)();function i(n){let{children:e}=n,[t,i]=(0,l.useState)(""),[s,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(!1),[g,x]=(0,l.useState)(!1),{regularProducts:p,allProducts:h}=(0,a.rn)();return(0,l.useEffect)(()=>{if(!t.trim()){c([]);return}let n=t.toLowerCase().trim();u(!0),console.log("Searching for:",n),console.log("Available products:",p.length);let e=p.filter(e=>{let t=(e.product_name||e.name||"").toLowerCase();if("zehnder-basic-silent-wall-fan"===n||"silent wall fan"===n||"wall fan"===n)return t.includes("zehnder")&&(t.includes("silent")||t.includes("wall-fan"));if(t.includes("zehnder-")){if(n.includes("zehnder-"))return t.includes(n);let e=t.indexOf("zehnder-")+8;if(e<t.length){let r=t.substring(e);for(let e of n.split(" "))if(e.length>2&&r.includes(e))return!0;return n.length>0&&r.charAt(0)===n.charAt(0)}return!1}return t.length>0&&n.length>0&&t.charAt(0)===n.charAt(0)});console.log("Filtered results:",e.length);let r=e.map(n=>{let e=h.find(e=>e.id===n.id||(e.product_name||e.name||"").toLowerCase()===(n.product_name||n.name||"").toLowerCase());if(!e&&(n.product_name||n.name||"").toLowerCase().includes("zehnder-")){let t=(n.product_name||n.name||"").toLowerCase();if("zehnder-basic-silent-wall-fan"===t&&(console.log("Looking for match for zehnder-basic-silent-wall-fan"),e=h.find(n=>{let e=(n.product_name||n.name||"").toLowerCase();return e.includes("zehnder")&&(e.includes("silent-wall")||e.includes("basic-silent")||e.includes("wall-fan"))})),!e){let n=t.split("zehnder-")[1].split("-");e=h.find(e=>{let t=(e.product_name||e.name||"").toLowerCase();if(!t.includes("zehnder-"))return!1;let r=t.split("zehnder-")[1].split("-"),l=0;for(let e of n)r.includes(e)&&l++;return l/n.length>=.5})}}return e?(console.log('Enhanced product match: "'.concat(n.product_name||n.name,'" with "').concat(e.product_name||e.name,'"')),{...n,...e,product_name:n.product_name||n.name||e.product_name||e.name}):n});console.log("Enhanced results:",r.length),c(r),u(!1)},[t,p,h]),(0,r.jsx)(o.Provider,{value:{searchQuery:t,setSearchQuery:i,searchResults:s,isLoading:d,markerSelected:g,setMarkerSelected:x},children:e})}function s(){let n=(0,l.useContext)(o);if(void 0===n)throw Error("useSearch must be used within a SearchProvider");return n}},6027:function(){}},function(n){n.O(0,[974,101,501,971,23,744],function(){return n(n.s=706)}),_N_E=n.O()}]);